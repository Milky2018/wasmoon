{"id":"wasmoon-1cg","title":"Reduce call arg moves","description":"Reduce call-argument move traffic in lowering/peephole to shrink call sequences.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-20T19:33:28.706462+08:00","created_by":"Milky2018","updated_at":"2026-01-20T20:32:34.837844+08:00","closed_at":"2026-01-20T20:32:34.837844+08:00","close_reason":"Closed","labels":["jit","perf"]}
{"id":"wasmoon-1h7","title":"JIT hang regressions in spec WASTs","description":"JIT hangs on spec/align.wast, spec/block.wast, spec/br_on_non_null.wast after recent optimizations. Reproduce in testsuite and prevent regressions via moon test.","notes":"Removed unsafe VCode coalesce pass causing JIT hangs; added JIT WAST regression tests; tightened swap-aware regalloc rewrite. Tests: moon test -p Milky2018/wasmoon/testsuite -f wast_hang_regression_test.mbt; moon test -p Milky2018/wasmoon/vcode/lower -f lower_wbtest.mbt; moon test -p Milky2018/wasmoon/vcode/regalloc -f regalloc_wbtest.mbt.","status":"closed","priority":0,"issue_type":"bug","owner":"842376130@qq.com","created_at":"2026-01-21T11:36:42.659409+08:00","created_by":"Milky2018","updated_at":"2026-01-21T12:41:16.179485+08:00","closed_at":"2026-01-21T12:41:16.179487+08:00","comments":[{"id":3,"issue_id":"wasmoon-1h7","author":"Milky2018","text":"Added testsuite regression coverage in testsuite/wast_hang_regression_test.mbt to run spec/align.wast, spec/block.wast, spec/br_on_non_null.wast under JIT via WAST runner.","created_at":"2026-01-21T03:49:33Z"}]}
{"id":"wasmoon-1vb","title":"Eliminate trivial post-regalloc moves","description":"Remove redundant Move instructions when src/dst are same physical register (including float/vector aliasing), after allocation.","status":"in_progress","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-21T13:18:50.538336+08:00","created_by":"Milky2018","updated_at":"2026-01-21T13:19:04.122769+08:00"}
{"id":"wasmoon-246","title":"Regalloc: swap-aware jump-arg coalescing","description":"Prefer non-swap assignments for jump-arg parallel moves to avoid temp regs in loops (e.g. fib).","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-21T10:54:21.812095+08:00","created_by":"Milky2018","updated_at":"2026-01-21T11:16:46.031902+08:00","closed_at":"2026-01-21T11:16:46.031902+08:00","close_reason":"swap-aware jump-arg coalescing implemented","comments":[{"id":1,"issue_id":"wasmoon-246","author":"Milky2018","text":"Implemented swap-aware jump-arg 2-cycle break in regalloc apply_allocation (scratch redirect for locally-defined jump args). Tests: moon test.","created_at":"2026-01-21T03:16:35Z"}]}
{"id":"wasmoon-5ez","title":"Call arg consts: avoid redundant fixed-reg move bounce","description":"Remove def-fixed loads for register const args so regalloc doesn't emit back-and-forth moves before calls.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-21T10:27:46.240373+08:00","created_by":"Milky2018","updated_at":"2026-01-21T10:28:28.538226+08:00","closed_at":"2026-01-21T10:28:28.538227+08:00"}
{"id":"wasmoon-5kl","title":"Direct-call lowering for known Wasm calls (avoid func_table indirection)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T18:53:48.650054+08:00","updated_at":"2026-01-20T19:23:28.65972+08:00","closed_at":"2026-01-20T19:23:28.65972+08:00","close_reason":"Closed"}
{"id":"wasmoon-6sw","title":"Fuse cmp+branch even when cmp is not last","description":"Improve vcode fuse_cmp_branch to find cmp defs earlier in block so redundant compares and const loads are removed.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-21T10:35:41.132357+08:00","created_by":"Milky2018","updated_at":"2026-01-21T10:35:56.80781+08:00","closed_at":"2026-01-21T10:35:56.807812+08:00"}
{"id":"wasmoon-8z6","title":"Fix remaining JIT WAST regressions after call optimizations","description":"Investigate and fix 14 failing WAST files in JIT mode after recent call const remat and regalloc constraint fixes.","status":"open","priority":2,"issue_type":"bug","owner":"842376130@qq.com","created_at":"2026-01-20T20:57:53.334242+08:00","created_by":"Milky2018","updated_at":"2026-01-20T20:57:53.334242+08:00"}
{"id":"wasmoon-8zd","title":"Direct-call Branch26 fixups for intra-module calls","description":"Replace LoadFuncAddr+blr with bl + Branch26 fixups and patch at JIT load time.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-20T19:33:13.262464+08:00","created_by":"Milky2018","updated_at":"2026-01-20T19:44:34.876323+08:00","closed_at":"2026-01-20T19:44:34.876323+08:00","close_reason":"Closed","labels":["jit","perf"]}
{"id":"wasmoon-9a1","title":"Import calls via vmctx load","description":"Use vmctx func table pointer loads (LDR + BLR) for imports instead of LoadFuncAddr.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-20T19:33:21.047034+08:00","created_by":"Milky2018","updated_at":"2026-01-20T19:50:04.522286+08:00","closed_at":"2026-01-20T19:50:04.522286+08:00","close_reason":"Closed","labels":["jit","perf"]}
{"id":"wasmoon-a05","title":"Fuse cmp+branch to drop compare constants","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T18:15:13.44239+08:00","updated_at":"2026-01-20T18:21:28.5596+08:00","closed_at":"2026-01-20T18:21:28.5596+08:00","close_reason":"Closed"}
{"id":"wasmoon-e0e","title":"Fix memory64 JIT regressions after peephole","description":"Investigate peephole optimization removing needed add/move in vcode; memory64 endianness/grow/redundancy failing under JIT at -O2.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-20T21:50:22.46822+08:00","created_by":"Milky2018","updated_at":"2026-01-21T10:00:22.746743+08:00","closed_at":"2026-01-21T10:00:22.746745+08:00"}
{"id":"wasmoon-gai","title":"Regalloc coalescing hints for block params (edge-based)","description":"Align bundle merging with Cranelift: process Jump edges directly for block-param/arg coalescing, avoiding pre-regalloc phi rewriting.","notes":"Use Jump-edge walk to coalesce block params/args during bundle merging. Tests: moon test -p Milky2018/wasmoon/vcode/regalloc -f regalloc_wbtest.mbt.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-21T13:14:20.220707+08:00","created_by":"Milky2018","updated_at":"2026-01-21T13:15:19.217811+08:00","closed_at":"2026-01-21T13:15:19.217813+08:00"}
{"id":"wasmoon-m3g","title":"Compare wasmtime explore vs wasmoon benchmark.wat and decide next optimizations","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T18:51:57.767112+08:00","updated_at":"2026-01-20T19:23:34.08186+08:00","closed_at":"2026-01-20T19:23:34.08186+08:00","close_reason":"Closed"}
{"id":"wasmoon-nyp","title":"Fix JIT regressions from const-arg remat","description":"Investigate and fix JIT regressions after const-arg rematerialization; 16 wast failures incl call/imports/gc/br_on_null. Reduce to minimal repro and adjust lowering or remove optimization.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-20T20:35:12.939224+08:00","created_by":"Milky2018","updated_at":"2026-01-20T20:49:25.446363+08:00","closed_at":"2026-01-20T20:49:25.446363+08:00","close_reason":"Closed","labels":["jit","regression","task"]}
{"id":"wasmoon-s05","title":"Peephole correctness: terminator uses + store forwarding alias","description":"Harden vcode peephole: count terminator uses in in-place update optimization and conservatively clear load-store forwarding map on StorePtrNarrow to avoid overlapping store alias.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-21T10:16:33.893347+08:00","created_by":"Milky2018","updated_at":"2026-01-21T10:18:11.006996+08:00","closed_at":"2026-01-21T10:18:11.006998+08:00"}
{"id":"wasmoon-ufo","title":"Implement Cranelift-style constant block param elimination","description":"Add IR-level constant-phi removal based on Cranelift remove_constant_phis, with tests and pipeline integration.","notes":"Implemented IR constant block param elimination and added test. Tests: moon test -p Milky2018/wasmoon/ir -f ir_wbtest.mbt.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-21T13:06:19.445304+08:00","created_by":"Milky2018","updated_at":"2026-01-21T13:07:16.984493+08:00","closed_at":"2026-01-21T13:07:16.984495+08:00"}
{"id":"wasmoon-wg0","title":"Regalloc: phi-move coalescing pass","description":"Add a coalescing pass for jump args -\u003e block params to eliminate redundant moves when safe across CFG.","status":"closed","priority":2,"issue_type":"task","owner":"842376130@qq.com","created_at":"2026-01-21T10:54:42.908607+08:00","created_by":"Milky2018","updated_at":"2026-01-21T11:29:16.927092+08:00","closed_at":"2026-01-21T11:29:16.927092+08:00","close_reason":"phi-move coalescing implemented","comments":[{"id":2,"issue_id":"wasmoon-wg0","author":"Milky2018","text":"Added single-predecessor block param coalescing in vcode peephole, guarded to skip func_table/exception users. Updated snapshots; tests: moon test.","created_at":"2026-01-21T03:29:03Z"}]}
